\subsection{Difeomorfismos}\label{Subsección: Difeomorfismos}
Ahora estudiaremos un tipo particular de mapa suave, los difeomorfismos. De modo similar a como los homeomorfismo preservan ciertas propiedades de los espacios topológicos, los difeomorfismos entre variedades suaves preservarán ciertas propiedades de la topología estructuras suaves.

\begin{definition}[Difeomorfismo]\label{Definición: Difeomorfismo}
  Sean $M$ y $N$ variedades suaves y $f: M \to N$ un mapa cualquiera. Diremos que $f$ es un \it{difeomorfismo} si:
\begin{itemize}
  \item $f$ es un homeomorfismo.
  \item $f: M \to N$ es un mapa suave.
  \item $f^{-1}: N \to M$ es un mapa suave.
\end{itemize}
\end{definition}

\begin{theorem}\label{Teorema: Composición de Difeomorfismos}
Sean $M, N$ y $P$ variedades suaves, $f: M \to N$ y $g: N \to P$ difeomorfismos. La composición $g \circ f: M \to P$ es un difeomorfismo.
\end{theorem}

\begin{proof}
\begin{itemize}
\item La composición $g \circ f$ es un homeomorfismo por ser la composición de homeomorfismos.
\item Dado que $f$ y $g$ son mapas suaves, por el teorema \ref{Teorema: Composición de Mapas Suaves} sabemos que la composición $g \circ f$ es un mapa suave.
\item Por ser $f$ y $g$ difeomorfismos, $f^{-1}$ y $g^{-1}$ también son mapas suaves, nuevamente tenemos que por el teorema \ref{Teorema: Composición de Mapas Suaves} el mapa $(g\circ f)^{-1} = f^{-1} \circ g^{-1}$ es suave.
\end{itemize}
\end{proof}

\begin{theorem}
  Sean $\{M_i\}_{i=1}^{k}$, $\{N_i\}_{i=1}^{k}$ variedades suaves y $f_i: M_i \to N_i$ difeomorfismos, el producto $f_1 \times \dots \times f_k: \prod_{i=1}^{k} M_i \to \prod_{i=1}^{k} N_i$ definido como:
  \[
    (f_1 \times \dots \times f_k)(x_1, \dots, x_k) = (f_1(x_1), \dots, f_k(x_k))
  \]
  es un difeomorfismo.
\end{theorem}

\begin{proof}
  El producto cartesiano de homeomorfismo es un homeomorfismo y la inversa es el producto de cada una de las componentes, esto es:
  
  \[
    (f_1 \times \dots \times f_k)^{-1} = f_1^{-1} \times \dots \times f_k^{-1} 
  \]

  Por el teorema \ref{Teorema: Mapa a Producto de Variedades Suaves} sabemos que el producto $f_1 \times \dots \times f_k$ será un mapa suave de $\prod_{i=1}^{k} M_i$ a $\prod_{i=1}^k N_i$ si y sólo si cada una de las proyecciones $[\pi_{i}^{1} \circ (f_1 \times \dots \times f_k)](x_1,\dots,x_k) = f_i(x_i)$ son suaves.

  Tomando la proyección $\pi_{i}^2: \prod_{i=1}^k M_i \to M_i$ dada $\pi_{i}^{2}(x_1,\dots,x_k) = x_i$ y componiendo con $f_i$ tenemos que $f_i \circ \pi_{i}^2 (x_1, \dots, x_k) = f_i(x_i)$, por lo que $\pi_i^1 \circ (f_1 \times \dots \times f_k) = \pi_i^2 \circ f_i$. Dado que $\pi_i^{2} \circ f_i$ es la composición de dos mapas suaves para cada $i=1,\dots,k$, podemos garantizar que $\pi_i^1 \circ (f_1 \times \dots \times f_k)$ es suave en cada una de sus componentes, y por lo tanto $f_1 \times \dots \times f_k$ es suave.

  Análogamente se probaría que $(f_1 \times \dots \times f_k)^{-1}$ es un mapa suave de $\prod_{i=1}^k N_i$ a $\prod_{i=1}^k M_i$ 
\end{proof}

\begin{theorem}
  Sean $M$ y $N$ variedades suaves, $U \subseteq M$ una subvariedad abierta y $f: M \to N$ un difeomorfismo. La restricción $f|_{U}: U \to f(U) \subseteq N$ es un difeomorfismo.
\end{theorem}

\begin{proof}
  La restricción de un homeomorfismo a un subconjunto abierto es nuevamente un homeomorfismo. Además, podemos expresar la restricción de una función a un conjunto como $f|_U = f \circ \iota$, donde $\iota: U \to M$ es el mapa de inclusión, como se demostró en el teorema \ref{Teorema: Mapa De Inclusion} este es suave, por lo tanto la composición será suave, lo que implica que $f|_U$ es suave.

  Dado que $f$ es un homeomorfismo y $U$ es abierto se garantiza que $f(U)$ es un subconjunto abierto, y por el argumento anterior podemos concluir que $(f|_U)^{-1}$ es un mapa suave.
\end{proof}

Estas son algunas propiedades básicas de los difeomorfismos, a continuación veremos dos resultados que nos dicen que si tenemos un difeomorfismo entre dos variedades suaves estas son esencialmente la misma.

\begin{theorem}
  El conjunto de todas las variedades difeomorfas forma una clase de equivalencias. 
\end{theorem}

\begin{proof} Sean $M,N$ y $P$ variedades suaves, y sean $f: M \to N$ y $g: N \to P$ difeomorfismo, entonces:
  \begin{itemize}
    \item $M \sim M$. La identidad $\id: M \to M$ es un difeomorfismo de una variedad consigo misma, esto se tiene trivialmente.
    \item $M \sim N$ implica $N \sim M$. Si $f: M \to N$ es un difeomorfismo entonces su inversa, $f^{-1}: N \to M$ también es un difeomorfismo.
    \item Si $M \sim N$ y $N \sim P$, entonces $M \sim P$. Por el teorema \ref{Teorema: Composición de Difeomorfismos} sabemos que la composición de difeomorfismos es un difeomorfismo.
  \end{itemize}
\end{proof}

\begin{theorem}[Invariancia de la Dimensión]
  Si $M^m$ y $N^n$ son variedades suaves no vacías no puede existir un difeomorfismo de $M$ a $N$, a menos que $m=n$
\end{theorem}

\begin{proof}
  Para probar este teorema primero probaremos un resultado similar en espacios euclidianos. Sean $\R^n$ y $\R^m$ espacios euclidianos y $f: \R^n \to \R^n$ un difeomorfismo, entonces $m = n$.

  Por ser un $f: \R^n \to \R^m$ difeomorfismo su función inversa  $f^{-1}: \R^m \to \R^n$ existirá. Por definición de función invertible tenemos que $f^{-1} \circ f (x) = x$ y $f \circ f^{-1}(y) = y$, por la regla de la cadena tenemos que:

  \begin{align*}
    D(f^{-1} \circ f)(x) &= Df^{-1}(f(x))Df(x) = \id_{\R^n}\\
    D(f \circ f^{-1})(y) &= Df(f^{-1}(y))Df^{-1}(x) = \id_{\R^m}
  \end{align*}

  Donde $D$ representa la derivada total. De aquí podemos concluir que la matriz de la derivada total es invertible, y por un resultado básico de álgebra lineal tenemos que la matriz debe ser cuadrada, por lo tanto $m = n$.

  Ahora, si $p \in M$ es un punto arbitrario, $(U,\phi)$ y $(V,\psi)$ son cartas suaves que contienen a $p$ y $f(p)$ respectivamente, entonces la representación coordenada $\psi \circ f \circ \phi^{-1}: \R^m \to \R^n$ es un difeomorfismo. 
\end{proof}
